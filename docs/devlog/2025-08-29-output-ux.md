# Output & UX

Primary interface: a fast, keyboard‑first Terminal UI (TUI) for catalog exploration. Future surfaces (service/API/chat) will reuse the same search core.

## Choice
- Library: Textual (Python) for reactive layout, Rich rendering, async I/O.
- Rationale: cross‑platform TUI, good widgets, easy theming, performant.
- Alt: prompt_toolkit for simpler CLI; can add later for a minimal mode.

## Experience Goals
- Low‑latency interactions; no mouse required; discoverable shortcuts.
- Trust via explanations: show why a result matched and key specs.
- Smooth refinement: quick toggles for stock and common facets.

## Views
- Search: query box, results list (name, stock badge, price, tags), and preview pane with top specs and match highlights.
- Details: full description, spec table, links (product page, datasheet, guides), and “similar/alternatives”.
- Filters: side pane with in‑stock toggle (default ON), interfaces (I2C/SPI/UART), form factor, connectors (STEMMA/Qwiic/Feather/QT Py), voltage/current ranges, price.
- Compare: select 2–4 items and view a spec comparison grid; highlight deltas.
- Inspire: curated/randomized in‑stock items with categories and quick reasons.
- Help: overlay listing shortcuts and tips.

## Key Shortcuts (initial)
- `/` focus search • `Enter` open details • `Esc` back
- `Tab/Shift+Tab` cycle panes • `↑/↓` navigate results
- `f` filters • `i` toggle in‑stock • `a` add/remove from compare
- `g i` go to Inspire • `?` help • `o` open in browser

## Result Cards
- Fields: name, stock status (badge), price, key specs (chips/interfaces/voltage), tags.
- Explanations: inline highlights + a “why” line (matched terms/specs).
- OOS handling: label clearly, offer subscribe link, and show in‑stock substitutes when available.

## Clarification Flow
- If query is vague or conflicting, show a non‑blocking prompt with 1–2 quick choices (e.g., interface or form factor) to refine.

## State & Feedback
- Status bar: query time, result count, stock filter state, offline/online icon.
- Non‑intrusive toasts for errors (e.g., index missing) and refresh events.

## Accessibility
- High‑contrast theme option; adjustable result density; avoids color‑only cues.

## Future Surfaces
- MCP service: expose a search capability for other tools/agents.
- Copilot chat mode: inline results and suggestions during coding sessions.
- Sub‑agent: a focused retriever/grounder used by a larger agent.
- Custom GPT chat app: web chat UI powered by the same indexes.

## Implementation Notes (planned)
- Package layout: `tui/` (Textual app, views, widgets), `core/` (search/retrieval), `scripts/` (ingest/index/refresh).
- MVP sequencing: wire up lexical search first, then add semantic rerank and explanations, then filters, then compare and inspire.
